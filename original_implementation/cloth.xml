<project name="Cloth" width="900" height="900">
  <assets>
    <attributes>
      <attribute type="COLOR" name="width" data="INT" value="25"/>
      <attribute type="COLOR" name="height" data="INT" value="25"/>
      <attribute type="COLOR" name="stiffness" data="FLOAT" value="100.0"/>
      <attribute type="COLOR" name="damping_coeff" data="FLOAT" value="10.0"/>
      <attribute type="COLOR" name="M" data="FLOAT" value="0.5"/>
      <attribute type="COLOR" name="time_interval" data="FLOAT" value="0.0"/>
      <attribute type="RENDERER" name="wind_x" data="FLOAT" value="0.0"/>
      <attribute type="RENDERER" name="wind_y" data="FLOAT" value="0.0"/>
      <attribute type="RENDERER" name="wind_z" data="FLOAT" value="0.0"/>
      <attribute type="RENDERER" name="marbel_radius" data="FLOAT" value="0.0"/>
      <attribute type="RENDERER" name="wind_scale" data="FLOAT" value="0.0"/>
    </attributes>
    <scenes>
      <scene name="Cloth" params="SWAP_XY">
        <file name="objects/cloth.obj"/>
      </scene>
      <scene name="Grid" params="SWAP_XY">
        <geometry name="Grid" type="GRID" LENGTH="1.0" DIVISIONS="24">
          <ROTATE x="0" y="1" z="0" w="-90"/>
          <TRANSLATE x="0.5" y="0.5" z="0.5"/>
        </geometry>
      </scene>
      <scene name="Axis">
        <geometry name="axis" type="AXIS">
          <SCALE x="5" y="5" z="5"/>
        </geometry>
      </scene>
    </scenes>
    <viewports>
      <viewport name="MainViewport">
        <CLEAR_COLOR r="0.4" b="0.2" g="0.1"/>
      </viewport>
    </viewports>
    <cameras>
      <camera name="main">
        <viewport name="MainViewport"/>
        <POSITION x="1.4" y="0.5" z="1.4"/>
        <LOOK_AT_POINT x="0" y="0" z="0"/>
        <FOV value="70"/>
        <NEAR value="0.01"/>
      </camera>
      <camera name="side">
        <viewport name="MainViewport"/>
        <POSITION x="0.402" y="0.774" z="0"/>
        <LOOK_AT_POINT x="0" y="0" z="0"/>
        <FOV value="100"/>
        <NEAR value="0.01"/>
      </camera>
    </cameras>
    <lights>
      <light name="sun">
        <DIRECTION x="-5" y="-5" z="-5"/>
      </light>
      <!-- <light name="lamp">
        <POSITION x="0" y="2" z="0"/>
        <SPOT_DIRECTION x="0" y="-1" z="0"/>
        <SPOT_CUTOFF value="0.8"/>
      </light> -->
    </lights>
    <materialLibs>
      <materialLib filename="cloth.mlib"/>
    </materialLibs>
  </assets>
  <pipelines>
    <pipeline name="cloth">
      <pass name="cloth" class="default">
        <scenes>
          <scene name="Cloth"/>
        </scenes>
        <camera name="main"/>
        <lights>
          <light name="sun"/>
        </lights>
        <materialMaps>
          <map fromMaterial="*" toMaterial="cloth" toLibrary="cloth"/>
        </materialMaps>
      </pass>
      <pass name="drawNormals" class="default">
				<COLOR_CLEAR value="false" />
				<DEPTH_CLEAR value="false" />
				<scenes>
					<scene name="Cloth" />
				</scenes>
				<camera name="main" />
				<lights>
					<light name="sun" />
				</lights>
				<materialMaps>
					<map fromMaterial="*" toMaterial="drawNormals" toLibrary="cloth" />
				</materialMaps>
			</pass>			
      <pass name="axis" class="default">
        <COLOR_CLEAR value="false"/>
        <DEPTH_CLEAR value="false"/>
        <scenes>
          <scene name="Axis"/>
        </scenes>
        <camera name="main"/>
      </pass>
    </pipeline>
  </pipelines>
  <interface>
    <window label="Cloth options">
      <var label="stiffness" type="COLOR" context="cloth::cloth" component="stiffness" def="min=1 max=1000 step=10"/>
      <var label="Damping" type="COLOR" context="cloth::cloth" component="damping_coeff" def="min=0.01 max=20 step=0.01"/>
      <var label="M" type="COLOR" context="cloth::cloth" component="M" def="min=0.01 max=10 step=0.01"/>
      <var label="Timer" type="COLOR" context="cloth::cloth" component="time_interval" def="min=0 max=0.01 step=0.0001"/>
      <var label="Marbel" type="RENDERER" context="cloth::cloth" component="marbel_radius" def="min=0 max=0.2 step=0.01"/>
    </window>
    <window label="Wind options">
      <var label="WindX" type="RENDERER" context="cloth::cloth" component="wind_x" def="min=-1 max=1 step=0.01"/>
      <var label="WindY" type="RENDERER" context="cloth::cloth" component="wind_y" def="min=-1 max=1 step=0.01"/>
      <var label="WindZ" type="RENDERER" context="cloth::cloth" component="wind_z" def="min=-1 max=1 step=0.01"/>
      <var label="Wind Intensity" type="RENDERER" context="cloth::cloth" component="wind_scale" def="min=0 max=10 step=0.01"/>
    </window>
  </interface>
</project>
